---
import Layout from "@Layouts/Layout.astro";
import { PORTFOLIO } from "../config.mjs";
import PortfolioProject from "@Components/PortfolioProject.astro";
---

<Layout>
  <div class="flex flex-wrap justify-center gap-4 space-y-4">
    <div role="alert" class="alert alert-info max-w-lg text-center bg-cyan-800 text-cyan-400">
      <i class="fa-regular fa-bell text-xl text-cyan-400"></i>
      <p>
        This collection is a work in progress, and not an exhaustive
        representation of my experience and knowledge. Thanks for looking!
      </p>
    </div>
  </div>

  <div class="flex flex-wrap justify-center gap-4 space-y-4">
    {PORTFOLIO.map((project) => <PortfolioProject project={project} />)}
  </div>
</Layout>

<script>
  const buttons = document.querySelectorAll('button[data-portfolio-project="true"]');
  buttons.forEach((button) => {
      let link = button.getAttribute('data-portfolio-link');

      if (link && link.length > 0) 
        button.addEventListener('click', () => {
          window.open(link, "_blank");
        });
      else {
        button.classList.add('hidden');
        button.setAttribute('disabled', 'disabled');
      }
  });
</script>